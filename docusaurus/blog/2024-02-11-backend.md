---
title: 謎の backend モード
date: 2024-02-04
tags: [減量]
---

謎というほどでも無いのだけど emacs などの editor 向けに、
キーボード入力などをオミットした別のモードのようだ。
使ったことないのと、裏口でコードが複雑化している感じがある。

<!-- truncate -->

## backend

Buffer::document_header に手を入れていたところ、
別系統のアクセスがあることを発見。
削除しても本体には影響が無さそうだったのでやってしまいます。

別系統の操作体系があって readline までついている？
キーボードじゃなくて、コマンドで操るための裏口ぽいか。

`-backend` ひきすうで有効になる。
検索しても情報があまり出てこない。

## 作業

消す前。

```sh
> cloc --exclude-dir=docusaurus "--match-f=\.(c|h|cpp)$" src
     137 text files.
     137 unique files.
       1 file ignored.

github.com/AlDanial/cloc v 1.90  T=0.09 s (1566.1 files/s, 483446.8 lines/s)
-------------------------------------------------------------------------------
Language                     files          blank        comment           code
-------------------------------------------------------------------------------
C++                             60           2546           1274          31158
C/C++ Header                    68            441            154           4924
C                                9            112            181           1500
-------------------------------------------------------------------------------
SUM:                           137           3099           1609          37582
-------------------------------------------------------------------------------

```

消した後。量的なインパクトは少ない。

```sh
> cloc --exclude-dir=docusaurus "--match-f=\.(c|h|cpp)$" src
     137 text files.
     137 unique files.
       1 file ignored.

github.com/AlDanial/cloc v 1.90  T=0.09 s (1549.2 files/s, 473432.8 lines/s)
-------------------------------------------------------------------------------
Language                     files          blank        comment           code
-------------------------------------------------------------------------------
C++                             60           2506           1251          30805
C/C++ Header                    68            441            154           4918
C                                9            112            181           1500
-------------------------------------------------------------------------------
SUM:                           137           3059           1586          37223
-------------------------------------------------------------------------------

```
