---
title: さらに減量
date: 2024-02-02
tags: [減量]
---

さらに減量

```sh
> cloc --exclude-dir=docusaurus "--match-f=\.(c|h|cpp)$" .
     112 text files.
     111 unique files.
       2 files ignored.

github.com/AlDanial/cloc v 1.90  T=0.11 s (997.8 files/s, 404086.9 lines/s)
-------------------------------------------------------------------------------
Language                     files          blank        comment           code
-------------------------------------------------------------------------------
C++                             44           2699           1237          30944
C/C++ Header                    53            422            209           7048
C                               14            144            222           2028
-------------------------------------------------------------------------------
SUM:                           111           3265           1668          40020
-------------------------------------------------------------------------------
```

## USE_MIGEMO, USE_MARK, USE_W3MMAILER

```sh
> cloc --exclude-dir=docusaurus "--match-f=\.(c|h|cpp)$" .
     112 text files.
     111 unique files.
       2 files ignored.

github.com/AlDanial/cloc v 1.90  T=0.10 s (1064.1 files/s, 428166.3 lines/s)
-------------------------------------------------------------------------------
Language                     files          blank        comment           code
-------------------------------------------------------------------------------
C++                             44           2688           1227          30702
C/C++ Header                    53            422            209           7023
C                               14            144            222           2028
-------------------------------------------------------------------------------
SUM:                           111           3254           1658          39753
-------------------------------------------------------------------------------
```

わずかに減少

## frame

struct frameset など雑に削除。壊れているかもしれない。

```sh
> cloc --exclude-dir=docusaurus "--match-f=\.(c|h|cpp)$" .
     110 text files.
     109 unique files.
       2 files ignored.

github.com/AlDanial/cloc v 1.90  T=0.10 s (1047.7 files/s, 418293.3 lines/s)
-------------------------------------------------------------------------------
Language                     files          blank        comment           code
-------------------------------------------------------------------------------
C++                             43           2614           1214          29711
C/C++ Header                    52            418            206           6961
C                               14            144            222           2028
-------------------------------------------------------------------------------
SUM:                           109           3176           1642          38700
-------------------------------------------------------------------------------
```

1000行くらい。

## map, maparea

```sh
> cloc --exclude-dir=docusaurus "--match-f=\.(c|h|cpp)$" .
     108 text files.
     107 unique files.
       2 files ignored.

github.com/AlDanial/cloc v 1.90  T=0.10 s (1063.7 files/s, 431166.2 lines/s)
-------------------------------------------------------------------------------
Language                     files          blank        comment           code
-------------------------------------------------------------------------------
C++                             42           2598           1264          29550
C/C++ Header                    51            415            206           6944
C                               14            144            222           2028
-------------------------------------------------------------------------------
SUM:                           107           3157           1692          38522
-------------------------------------------------------------------------------
```

ちょっと

## ftp

```sh
> cloc --exclude-dir=docusaurus "--match-f=\.(c|h|cpp)$" .
     104 text files.
     104 unique files.
       1 file ignored.

github.com/AlDanial/cloc v 1.90  T=0.09 s (1190.2 files/s, 486850.4 lines/s)
-------------------------------------------------------------------------------
Language                     files          blank        comment           code
-------------------------------------------------------------------------------
C++                             41           2538           1297          28824
C/C++ Header                    49            405            207           6877
C                               14            144            222           2028
-------------------------------------------------------------------------------
SUM:                           104           3087           1726          37729
-------------------------------------------------------------------------------
```

ふむふむ。
istream に ftp の追加処理が多いので量が減るとともに、インターフェースを簡略化できる。かも。

## dump 系

可読性に悪影響があるので消しちゃう。
間違えると壊れるので慎重にやるべし。

